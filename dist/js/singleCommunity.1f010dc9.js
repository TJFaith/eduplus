(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["singleCommunity"],{"27bc":function(t,i,e){},3523:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("v-row",[t.showLoading?s("div",{staticClass:"w-100",staticStyle:{"text-align":"center","min-height":"100vh"}},[s("v-progress-circular",{attrs:{color:"black",size:100,indeterminate:""}})],1):t._e(),t._l(t.communityDATA.com_data,(function(i,a){return s("v-card",{key:a,staticClass:"mx-auto w-100",attrs:{flat:""}},[s("v-img",{attrs:{src:e("bc25"),height:"200px"}}),s("v-avatar",{staticClass:"float-right rounded-circle groupIcon",attrs:{size:"130",tile:""}},[s("v-img",{attrs:{src:e("bc25")}})],1),s("v-card-title",[t._v(" "+t._s(i.community_name))]),s("v-card-subtitle",[t._v("Total Members: "),s("b",[s("span",[t._v(t._s(t.communityDATA.total_member))])])]),t.a_member?s("v-btn",{attrs:{text:"",color:"error"},on:{click:function(e){return t.leaveCommunity(i.community_name)}}},[s("v-icon",{staticClass:"mr-2"},[t._v("fas fa-sign-out-alt")]),t._v(" Leave Community")],1):t._e(),s("v-card-subtitle",[t._v("Group Descripption")]),s("v-card-text",[t._v(" "+t._s(i.community_description)+" ")]),s("v-card-actions",[t.login_status?s("div",[t.a_member?s("div",[s("v-btn",{staticClass:"mx-2",attrs:{color:"primary"},on:{click:function(i){t.dialog=!0}}},[s("v-icon",[t._v("mdi-plus")]),t._v(" Add new Post | "),s("small",[s("i",{attrs:{color:"gray--text"}},[t._v("Whats on your mind")])])],1)],1):s("div",[s("v-btn",{staticClass:"mx-2",attrs:{color:"primary"},on:{click:function(e){return t.joinCommunity(i.community_name)}}},[s("v-icon",{staticClass:"mr-2"},[t._v("mdi-plus")]),t._v(" JOIN COMMUNITY ")],1)],1)]):s("div",[s("v-btn",{staticClass:"mx-2",attrs:{color:"primary"},on:{click:t.login}},[t._v(" Login to post ")])],1),s("v-spacer"),s("v-btn",{attrs:{icon:""},on:{click:function(i){t.show=!t.show}}},[s("v-icon",[t._v(t._s(t.show?"mdi-chevron-up":"mdi-chevron-down"))])],1)],1),s("v-expand-transition",[s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[s("v-divider"),t._l(t.communityDATA.allPost,(function(a,o){return s("div",{key:o,staticClass:"post"},[s("v-card-text",{staticClass:"p-3"},[s("v-avatar",{staticClass:"rounded-circle userIcon",attrs:{size:"40",tile:""}},[s("v-img",{attrs:{src:e("bc25")}})],1),s("span",{staticClass:"mx-2"},[t._v(t._s(a.member_name))]),s("v-icon",[t._v("fa-angle-right")]),s("span",{staticClass:"mx-2"},[t._v(t._s(i.community_name))]),s("hr")],1),s("v-card-text",[s("span",{staticClass:"caption_image",domProps:{innerHTML:t._s(a.text_caption)}})])],1)}))],2)])],1)}))],2),s("v-divider",[t._v("Related Community")]),s("div",{staticClass:"text-center"},[s("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(i){t.dialog=i},expression:"dialog"}},[s("v-card",[s("v-card-title",{staticClass:"headline grey lighten-2"},[t._v(" Whats on your mind ")]),s("div",{staticClass:"quill-editor"},[s("quill-editor",{ref:"myTextEditor",model:{value:t.newPost,callback:function(i){t.newPost=i},expression:"newPost"}})],1),s("v-divider"),s("v-card-actions",[s("v-btn",{attrs:{color:"primary",text:""},on:{click:function(i){return t.savePost()}}},[t._v(" Post ")])],1)],1)],1)],1)],1)},a=[],o=e("56d7"),n={data:function(){return{show:!0,communityDATA:{},dialog:!1,newPost:"",login_status:!1,a_member:!1,showLoading:!1}},methods:{getID:function(){var t=this;this.showLoading=!0;var i={c_id:this.$route.params.community_id};this.axios.post(this.$hostname+"general_api.php?action=singleCommunity",i).then((function(i){if(t.showLoading=!1,t.communityDATA=i.data,console.log(t.response),t.$session.has("user_login")){t.login_status=!0;for(var e=0;e<t.communityDATA.allMembers.length;e++){if(t.communityDATA.allMembers[e].user_id==t.$session.get("user_login").id&&t.communityDATA.allMembers[e].community_id==t.$route.params.community_id){t.a_member=!0;break}t.a_member=!1}}else t.login_status=!1})).catch((function(i){t.showLoading=!1,alert(i)}))},joinCommunity:function(t){var i=this;this.$swal.queue([{title:"Are you sure you want to join "+t,showCancelButton:!0,confirmButtonText:"Join",showLoaderOnConfirm:!0,allowOutsideClick:!1,preConfirm:function(){var t={user_id:i.$session.get("user_login").id,user_email:i.$session.get("user_login").email,community_id:i.$route.params.community_id};i.axios.post(i.$hostname+"general_api.php?action=joinCommunity",t).then((function(t){"success"==t.data.response&&(i.$router.go(),i.a_member=!0)})).catch((function(t){alert(t)}))}}])},leaveCommunity:function(t){var i=this;this.$swal.queue([{title:"Are you sure you want to leave "+t,showCancelButton:!0,confirmButtonColor:"red",confirmButtonText:"Leave",showLoaderOnConfirm:!0,allowOutsideClick:!1,preConfirm:function(){var t={user_id:i.$session.get("user_login").id,user_email:i.$session.get("user_login").email,community_id:i.$route.params.community_id};i.axios.post(i.$hostname+"general_api.php?action=leaveCommunity",t).then((function(t){"success"==t.data.response&&(i.$router.go(),i.a_member=!1)})).catch((function(t){alert(t)}))}}])},login:function(){var t=window.location.href;this.$session.start(),this.$session.set("postPage",t),window.location="/login"},savePost:function(){var t=this;this.dialog=!1;var i={data:this.newPost,community_id:this.$route.params.community_id,member_id:this.$session.get("user_login").id};this.axios.post(this.$hostname+"general_api.php?action=newPost",i).then((function(i){console.log(i),"success"==i.data.response&&(t.newPost="",t.getID())})).catch((function(t){alert(t)}))}},watch:{getCID:function(){return this.getID()}},computed:{getCID:function(){return this.getID()}},created:function(){o["bus"].$emit("showSettings",!0),this.getCID},beforeDestroy:function(){o["bus"].$emit("showSettings",!1)}},r=n,c=(e("afd3"),e("2877")),l=e("6544"),m=e.n(l),u=e("8212"),d=e("8336"),v=e("b0af"),h=e("99d9"),_=e("169a"),g=e("ce7e"),p=e("0789"),f=e("132d"),w=e("adda"),y=e("490a"),C=e("0fd9"),b=e("2fa4"),x=Object(c["a"])(r,s,a,!1,null,"655278d8",null);i["default"]=x.exports;m()(x,{VAvatar:u["a"],VBtn:d["a"],VCard:v["a"],VCardActions:h["a"],VCardSubtitle:h["b"],VCardText:h["c"],VCardTitle:h["d"],VDialog:_["a"],VDivider:g["a"],VExpandTransition:p["a"],VIcon:f["a"],VImg:w["a"],VProgressCircular:y["a"],VRow:C["a"],VSpacer:b["a"]})},"8ce9":function(t,i,e){},afd3:function(t,i,e){"use strict";var s=e("27bc"),a=e.n(s);a.a},ce7e:function(t,i,e){"use strict";var s=e("5530"),a=(e("8ce9"),e("7560"));i["a"]=a["a"].extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render:function(t){var i;return this.$attrs.role&&"separator"!==this.$attrs.role||(i=this.vertical?"vertical":"horizontal"),t("hr",{class:Object(s["a"])({"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical},this.themeClasses),attrs:Object(s["a"])({role:"separator","aria-orientation":i},this.$attrs),on:this.$listeners})}})}}]);
//# sourceMappingURL=singleCommunity.1f010dc9.js.map