(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["forgot_password"],{"3b5f":function(t,s,a){"use strict";var o=a("a141"),e=a.n(o);e.a},5432:function(t,s,a){"use strict";a.r(s);var o=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("app-header"),a("div",{staticClass:"container pushPageDown",staticStyle:{"mini-height":"100vh"}},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"card mt-5"},[t._m(0),a("div",{staticClass:"card-body"},[t.emailInput?a("form",{on:{submit:function(s){return s.preventDefault(),t.sendOTP()}}},[t._m(1),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 mt-3 col-form-label text-md-right",attrs:{for:"email"}},[t._v("E-Mail Address")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.userEmail,expression:"userEmail"}],staticClass:"form-control",attrs:{id:"email",type:"email",name:"email",required:"required"},domProps:{value:t.userEmail},on:{input:function(s){s.target.composing||(t.userEmail=s.target.value)}}})])]),a("div",{staticClass:"form-group row mb-0"},[a("div",{staticClass:"col-md-8 offset-md-4"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:t.showLoading}},[t.showLoading?t._e():a("span",[t._v(" Send Code ")]),t.showLoading?a("v-progress-circular",{attrs:{color:"white",size:20,indeterminate:""}}):t._e()],1),a("a",{staticClass:"btn bg-light text-muted ml-3",attrs:{href:"/login"}},[t._v("Login")])])])]):t._e(),t.otpInput?a("form",{on:{submit:function(s){return s.preventDefault(),t.confirmOTP()}}},[t._m(2),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 mt-3 col-form-label text-md-right",attrs:{for:"text"}},[t._v("Input Otp")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.otp,expression:"otp"}],staticClass:"form-control",attrs:{id:"otp",type:"text",name:"otp",required:"required",maxlength:"6"},domProps:{value:t.otp},on:{input:function(s){s.target.composing||(t.otp=s.target.value)}}})])]),a("div",{staticClass:"form-group row mb-0"},[a("div",{staticClass:"col-md-8 offset-md-4"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:t.showLoading}},[t.showLoading?t._e():a("span",[t._v(" Verify ")]),t.showLoading?a("v-progress-circular",{attrs:{color:"white",size:20,indeterminate:""}}):t._e()],1),a("span",{staticClass:"mr-3 btn btn-light",attrs:{text:""},on:{click:function(s){return t.resendOTP()}}},[t._v("Resend Otp")]),a("a",{staticClass:"btn bg-light text-muted ml-3",attrs:{href:"/login"}},[t._v("Login")])])])]):t._e(),t.newPassword?a("form",{on:{submit:function(s){return s.preventDefault(),t.updatePassword()}}},[a("h6",[t._v("CREATE NEW PASSWORD")]),a("hr"),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"password"}},[t._v("Password ")]),a("div",{staticClass:"col-md-6"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.signup_data.password,expression:"signup_data.password"}],staticClass:"form-control",attrs:{id:"password",type:"password",name:"password",required:"required",autocomplete:"new-password",minlength:"6"},domProps:{value:t.signup_data.password},on:{keyup:function(s){return t.confirmPassword(t.signup_data.password,t.signup_data.c_password)},input:function(s){s.target.composing||t.$set(t.signup_data,"password",s.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"password-confirm"}},[t._v("Confirm Password")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.signup_data.c_password,expression:"signup_data.c_password"}],staticClass:"form-control",attrs:{id:"password-confirm",type:"password",name:"password_confirmation",required:"required",autocomplete:"new-password"},domProps:{value:t.signup_data.c_password},on:{keyup:function(s){return t.confirmPassword(t.signup_data.password,t.signup_data.c_password)},input:function(s){s.target.composing||t.$set(t.signup_data,"c_password",s.target.value)}}}),a("span",{staticClass:"text-danger"},[t._v(t._s(t.passwordMissmatch))])])]),a("div",{staticClass:"form-group row mb-0"},[a("div",{staticClass:"col-md-8 offset-md-4"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:t.showLoading}},[t.showLoading?t._e():a("span",[t._v(" Update ")]),t.showLoading?a("v-progress-circular",{attrs:{color:"white",size:20,indeterminate:""}}):t._e()],1)])])]):t._e()])])])])]),a("app-footer"),a("v-snackbar",{attrs:{timeout:t.alertNotify.timeout,centered:"",color:t.alertNotify.colorTheme},scopedSlots:t._u([{key:"action",fn:function(s){var o=s.attrs;return[a("v-icon",t._b({on:{click:function(s){t.alertNotify.showAlert=!1}}},"v-icon",o,!1),[t._v(" mdi-close ")])]}}]),model:{value:t.alertNotify.showAlert,callback:function(s){t.$set(t.alertNotify,"showAlert",s)},expression:"alertNotify.showAlert"}},[t._v(" "+t._s(t.alertNotify.text)+" ")])],1)},e=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"card-header"},[a("i",{staticClass:"fa fa-key"}),t._v(" Forgotten password")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"from-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"email"}}),a("div",{staticClass:"col-md-6"})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"from-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"email"}})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("i",[a("small",{staticClass:"text-danger"},[t._v("Length should be six characters or more")])])}],r={data:function(){return{showLoading:!1,userEmail:"",emailInput:!0,otpInput:!1,signup_data:{},newPassword:!1,confirm_email:"",passwordMissmatch:"",otp:"",alertNotify:{showAlert:!1,text:"",timeout:3e3,colorTheme:""}}},methods:{alertMethod:function(t,s,a){this.alertNotify.showAlert=t,this.alertNotify.text=s,this.alertNotify.colorTheme=a},sendOTP:function(){var t=this;this.showLoading=!0;var s={email:this.userEmail};this.axios.post(this.$hostname+"general_api.php?action=retrivePassword",s).then((function(s){"Not found"==s.data.respond?t.alertMethod(!0,"Email not found in database","red"):"No password"==s.data.respond?t.alertMethod(!0,"This account is linked with email, Login to email instead","red"):"sent"==s.data.respond?(t.emailInput=!1,t.otpInput=!0,t.alertMethod(!0,"Code sent to your email","green")):t.alertMethod(!0,s.data.respond,"red"),t.showLoading=!1})).catch((function(s){t.showLoading=!1,t.alertNotify.showAlert=!0,t.alertNotify.text=s,t.alertNotify.colorTheme="red"}))},confirmOTP:function(){var t=this;this.showLoading=!0;var s={otp:this.otp};this.axios.post(this.$hostname+"general_api.php?action=confirmOTP",s).then((function(s){"Correct"==s.data.respond?(t.emailInput=!1,t.otpInput=!1,t.newPassword=!0):t.alertMethod(!0,s.data.respond,s.data.alertColor),t.showLoading=!1})).catch((function(s){t.showLoading=!1,t.alertNotify.showAlert=!0,t.alertNotify.text=s,t.alertNotify.colorTheme="red"}))},resendOTP:function(){this.emailInput=!0,this.otpInput=!1},confirmPassword:function(t,s){void 0==s?this.passwordMissmatch="":t!=s?(this.passwordMissmatch="password does not match",this.showLoading=!0):(this.passwordMissmatch="",this.showLoading=!1)},updatePassword:function(){var t=this;this.showLoading=!0;var s={userEmail:this.userEmail,newPassword:this.signup_data.password};this.axios.post(this.$hostname+"general_api.php?action=updatePassword",s).then((function(s){"success"==s.data.response&&(t.alertMethod(!0,"Password changed successfully!","green"),t.$router.push({path:"/login"})),t.showLoading=!1})).catch((function(s){t.alertMethod(!0,s,"red")}))}}},i=r,n=(a("3b5f"),a("2877")),d=a("6544"),l=a.n(d),c=a("132d"),m=a("490a"),p=a("2db4"),u=Object(n["a"])(i,o,e,!1,null,"fefb66e6",null);s["default"]=u.exports;l()(u,{VIcon:c["a"],VProgressCircular:m["a"],VSnackbar:p["a"]})},a141:function(t,s,a){}}]);
//# sourceMappingURL=forgot_password.b6dbb502.js.map